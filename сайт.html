<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Интерактивная Таблица Менделеева</title>
    <style>
            body {
                font-family: Arial, sans-serif;
                background-color: #f0f0f0;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                min-height: 100vh;
                margin: 0;
                padding: 20px;
            }

            .container {
                display: grid;
                grid-template-columns: repeat(18, 50px);
                grid-template-rows: repeat(7, 50px);
                gap: 2px;
                position: relative;
            }

            .element {
                background-color: #ffffff;
                border: 1px solid #ccc;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                font-size: 12px;
                position: relative;
                user-select: none;
            }

            .element:hover {
                background-color: #e0e0e0;
            }

            .atomic-number { position: absolute; top: 2px; left: 2px; font-size: 8px; }
            .symbol { font-size: 18px; font-weight: bold; }
            .name { font-size: 8px; }

            /* Позиционирование элементов (сетка) - без изменений */
            #H { grid-row: 1; grid-column: 1; }
            #He { grid-row: 1; grid-column: 18; }
            #Li { grid-row: 2; grid-column: 1; }
            #Be { grid-row: 2; grid-column: 2; }
            #B { grid-row: 2; grid-column: 13; }
            #C { grid-row: 2; grid-column: 14; }
            #N { grid-row: 2; grid-column: 15; }
            #O { grid-row: 2; grid-column: 16; }
            #F { grid-row: 2; grid-column: 17; }
            #Ne { grid-row: 2; grid-column: 18; }
            #Na { grid-row: 3; grid-column: 1; }
            #Mg { grid-row: 3; grid-column: 2; }
            #Al { grid-row: 3; grid-column: 13; }
            #Si { grid-row: 3; grid-column: 14; }
            #P { grid-row: 3; grid-column: 15; }
            #S { grid-row: 3; grid-column: 16; }
            #Cl { grid-row: 3; grid-column: 17; }
            #Ar { grid-row: 3; grid-column: 18; }
            #K { grid-row: 4; grid-column: 1; }
            #Ca { grid-row: 4; grid-column: 2; }
            #Sc { grid-row: 4; grid-column: 3; }
            #Ti { grid-row: 4; grid-column: 4; }
            #V { grid-row: 4; grid-column: 5; }
            #Cr { grid-row: 4; grid-column: 6; }
            #Mn { grid-row: 4; grid-column: 7; }
            #Fe { grid-row: 4; grid-column: 8; }
            #Co { grid-row: 4; grid-column: 9; }
            #Ni { grid-row: 4; grid-column: 10; }
            #Cu { grid-row: 4; grid-column: 11; }
            #Zn { grid-row: 4; grid-column: 12; }
            #Ga { grid-row: 4; grid-column: 13; }
            #Ge { grid-row: 4; grid-column: 14; }
            #As { grid-row: 4; grid-column: 15; }
            #Se { grid-row: 4; grid-column: 16; }
            #Br { grid-row: 4; grid-column: 17; }
            #Kr { grid-row: 4; grid-column: 18; }
            #Rb { grid-row: 5; grid-column: 1; }
            #Sr { grid-row: 5; grid-column: 2; }
            #Y { grid-row: 5; grid-column: 3; }
            #Zr { grid-row: 5; grid-column: 4; }
            #Nb { grid-row: 5; grid-column: 5; }
            #Mo { grid-row: 5; grid-column: 6; }
            #Tc { grid-row: 5; grid-column: 7; }
            #Ru { grid-row: 5; grid-column: 8; }
            #Rh { grid-row: 5; grid-column: 9; }
            #Pd { grid-row: 5; grid-column: 10; }
            #Ag { grid-row: 5; grid-column: 11; }
            #Cd { grid-row: 5; grid-column: 12; }
            #In { grid-row: 5; grid-column: 13; }
            #Sn { grid-row: 5; grid-column: 14; }
            #Sb { grid-row: 5; grid-column: 15; }
            #Te { grid-row: 5; grid-column: 16; }
            #I { grid-row: 5; grid-column: 17; }
            #Xe { grid-row: 5; grid-column: 18; }
            #Cs { grid-row: 6; grid-column: 1; }
            #Ba { grid-row: 6; grid-column: 2; }
            #La { grid-row: 6; grid-column: 3; }
            #Hf { grid-row: 6; grid-column: 4; }
            #Ta { grid-row: 6; grid-column: 5; }
            #W { grid-row: 6; grid-column: 6; }
            #Re { grid-row: 6; grid-column: 7; }
            #Os { grid-row: 6; grid-column: 8; }
            #Ir { grid-row: 6; grid-column: 9; }
            #Pt { grid-row: 6; grid-column: 10; }
            #Au { grid-row: 6; grid-column: 11; }
            #Hg { grid-row: 6; grid-column: 12; }
            #Tl { grid-row: 6; grid-column: 13; }
            #Pb { grid-row: 6; grid-column: 14; }
            #Bi { grid-row: 6; grid-column: 15; }
            #Po { grid-row: 6; grid-column: 16; }
            #At { grid-row: 6; grid-column: 17; }
            #Rn { grid-row: 6; grid-column: 18; }
            #Fr { grid-row: 7; grid-column: 1; }
            #Ra { grid-row: 7; grid-column: 2; }
            #Ac { grid-row: 7; grid-column: 3; }
            #Rf { grid-row: 7; grid-column: 4; }
            #Db { grid-row: 7; grid-column: 5; }
            #Sg { grid-row: 7; grid-column: 6; }
            #Bh { grid-row: 7; grid-column: 7; }
            #Hs { grid-row: 7; grid-column: 8; }
            #Mt { grid-row: 7; grid-column: 9; }
            #Ds { grid-row: 7; grid-column: 10; }
            #Rg { grid-row: 7; grid-column: 11; }
            #Cn { grid-row: 7; grid-column: 12; }
            #Nh { grid-row: 7; grid-column: 13; }
            #Fl { grid-row: 7; grid-column: 14; }
            #Mc { grid-row: 7; grid-column: 15; }
            #Lv { grid-row: 7; grid-column: 16; }
            #Ts { grid-row: 7; grid-column: 17; }
            #Og { grid-row: 7; grid-column: 18; }

            .lanthanides, .actinides {
                display: grid;
                grid-template-columns: repeat(15, 50px);
                gap: 2px;
                margin-top: 20px;
                max-width: 934px;
                margin-left: auto;
                margin-right: auto;
            }

            /* Цвета категорий */
            .alkali-metal { background-color: #ff9999; }
            .alkaline-earth-metal { background-color: #ffcc99; }
            .transition-metal { background-color: #ffff99; }
            .post-transition-metal { background-color: #ccff99; }
            .metalloid { background-color: #99ffcc; }
            .nonmetal { background-color: #99ffff; }
            .halogen { background-color: #99ccff; }
            .noble-gas { background-color: #cc99ff; }
            .lanthanide { background-color: #ff99cc; }
            .actinide { background-color: #ff99ff; }
            .unknown { background-color: #cccccc; }

            /* --- ИСПРАВЛЕННЫЕ СТИЛИ МОДАЛЬНОГО ОКНА --- */
            .modal {
                display: none;
                position: fixed;
                z-index: 1000;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0,0,0,0.4);
                animation: fadeIn 0.3s ease-in;
                /* Flex для центровки самого окна */
                display: none; /* Перебивается JS */
                justify-content: center;
                align-items: center;
            }

            .modal-content {
                background-color: #fefefe;
                /* Убираем margin: 5% auto, используем размеры */
                width: 95%;
                max-width: 1200px;
                height: 90vh; /* Фиксированная высота: 90% от экрана */
                max-height: 800px;

                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);

                /* Важно: Flex Column для структуры окна */
                display: flex;
                flex-direction: column;
                overflow: hidden; /* Скрываем скролл самого окна */
            }

            #element-title {
                text-align: center;
                font-size: 28px;
                margin: 0 0 15px 0;
                color: #333;
                flex-shrink: 0; /* Заголовок не сжимается */
            }

            /* Контейнер для Табов */
            #allotrope-tabs-placeholder {
                display: flex;
                justify-content: center;
                gap: 8px;
                margin-bottom: 25px; /* Большой отступ снизу */
                flex-wrap: wrap;
                flex-shrink: 0; /* Табы не сжимаются */
                min-height: 40px;
            }

            .allotrope-tab {
                border: none;
                outline: none;
                padding: 8px 16px;
                border-radius: 20px;
                background-color: #f0f0f0;
                color: #555;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
                user-select: none;
                border: 1px solid #ddd;
            }

            .allotrope-tab:hover {
                background-color: #e0e0e0;
                transform: translateY(-1px);
            }

            .allotrope-tab.active {
                background-color: #4CAF50;
                color: white;
                border-color: #4CAF50;
            }

            /* Контейнер для контента элемента (скроллируемая область) */
            #element-info {
                flex-grow: 1; /* Занимает все оставшееся место */
                overflow-x: auto; /* Горизонтальный скролл */
                overflow-y: hidden; /* Вертикальный скролл скрыт */
                position: relative;
            }

            .groups-container {
                display: flex;
                flex-direction: row;
                /* ВАЖНО: flex-start, чтобы начало было слева и скролл работал */
                justify-content: flex-start;
                align-items: flex-start;
                flex-wrap: nowrap;
                padding: 5px 5px 20px 5px; /* Отступ снизу для скроллбара */
                height: 100%; /* На всю высоту родителя */
            }

            .info-group {
                display: flex;
                flex-direction: row;
                align-items: flex-start;
                flex-shrink: 0; /* Запрещаем сжимать карточки! */
                margin-right: 20px;
                border-radius: 8px;
                background: #f9f9f9;
                border-left: 5px solid #ddd;
                height: 90%; /* Почти на всю высоту контейнера */
                overflow-y: auto; /* Скролл внутри карточки, если текста много */
            }

            .info-group.basic { border-left-color: #2196F3; background: #E3F2FD; }
            .info-group.physical { border-left-color: #4CAF50; background: #E8F5E8; }
            .info-group.history { border-left-color: #FF9800; background: #FFF3E0; }
            .info-group.facts { border-left-color: #9C27B0; background: #F3E5F5; }

            /* Свернутое состояние */
            .info-group.collapsed {
                width: 40px; /* Фиксированная ширина */
                overflow: hidden;
            }

            .group-title {
                cursor: pointer;
                writing-mode: vertical-lr;
                text-orientation: upright;
                font-size: 14px;
                font-weight: bold;
                padding: 15px 10px;
                margin: 0;
                color: #444;
                text-align: center;
                border-radius: 4px 0 0 4px;
                height: 100%; /* На всю высоту карточки */
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .group-title:hover {
                background-color: rgba(0,0,0,0.05);
            }

            .group-content {
                width: 250px; /* Фиксированная ширина контента */
                padding: 15px;
                transition: width 0.3s ease, padding 0.3s ease;
                overflow: visible;
            }

            /* Когда свернуто */
            .group-content.collapsed {
                width: 0 !important;
                padding: 0 !important;
                overflow: hidden;
                border: none;
            }

            .info-group p {
                margin: 8px 0;
                font-size: 14px;
                line-height: 1.5;
            }

            /* Стили специфики аллотропов */
            .allo-specific {
                border-left: 2px solid #4CAF50;
                padding-left: 8px;
                margin-left: -8px;
            }

            .close {
                position: absolute;
                right: 20px;
                top: 15px;
                color: #aaa;
                font-size: 28px;
                font-weight: bold;
                z-index: 1001;
            }

            .close:hover { color: black; cursor: pointer; }

            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

            /* Кастомизация скроллбара */
            #element-info::-webkit-scrollbar { height: 10px; }
            #element-info::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 5px; }
            #element-info::-webkit-scrollbar-thumb { background: #888; border-radius: 5px; }
            #element-info::-webkit-scrollbar-thumb:hover { background: #555; }
        </style>
</head>
<body>
  <div class="container">
      <!-- Все элементы основной таблицы -->
      <div id="H" class="element nonmetal" data-symbol="H">
          <span class="atomic-number">1</span>
          <span class="symbol">H</span>
          <span class="name">Водород</span>
      </div>
      <div id="He" class="element noble-gas" data-symbol="He">
          <span class="atomic-number">2</span>
          <span class="symbol">He</span>
          <span class="name">Гелий</span>
      </div>
      <div id="Li" class="element alkali-metal" data-symbol="Li">
          <span class="atomic-number">3</span>
          <span class="symbol">Li</span>
          <span class="name">Литий</span>
      </div>
      <div id="Be" class="element alkaline-earth-metal" data-symbol="Be">
          <span class="atomic-number">4</span>
          <span class="symbol">Be</span>
          <span class="name">Бериллий</span>
      </div>
      <div id="B" class="element metalloid" data-symbol="B">
          <span class="atomic-number">5</span>
          <span class="symbol">B</span>
          <span class="name">Бор</span>
      </div>
      <div id="C" class="element nonmetal" data-symbol="C">
          <span class="atomic-number">6</span>
          <span class="symbol">C</span>
          <span class="name">Углерод</span>
      </div>
      <div id="N" class="element nonmetal" data-symbol="N">
          <span class="atomic-number">7</span>
          <span class="symbol">N</span>
          <span class="name">Азот</span>
      </div>
      <div id="O" class="element nonmetal" data-symbol="O">
          <span class="atomic-number">8</span>
          <span class="symbol">O</span>
          <span class="name">Кислород</span>
      </div>
      <div id="F" class="element halogen" data-symbol="F">
          <span class="atomic-number">9</span>
          <span class="symbol">F</span>
          <span class="name">Фтор</span>
      </div>
      <div id="Ne" class="element noble-gas" data-symbol="Ne">
          <span class="atomic-number">10</span>
          <span class="symbol">Ne</span>
          <span class="name">Неон</span>
      </div>
      <div id="Na" class="element alkali-metal" data-symbol="Na">
          <span class="atomic-number">11</span>
          <span class="symbol">Na</span>
          <span class="name">Натрий</span>
      </div>
      <div id="Mg" class="element alkaline-earth-metal" data-symbol="Mg">
          <span class="atomic-number">12</span>
          <span class="symbol">Mg</span>
          <span class="name">Магний</span>
      </div>
      <div id="Al" class="element post-transition-metal" data-symbol="Al">
          <span class="atomic-number">13</span>
          <span class="symbol">Al</span>
          <span class="name">Алюминий</span>
      </div>
      <div id="Si" class="element metalloid" data-symbol="Si">
          <span class="atomic-number">14</span>
          <span class="symbol">Si</span>
          <span class="name">Кремний</span>
      </div>
      <div id="P" class="element nonmetal" data-symbol="P">
          <span class="atomic-number">15</span>
          <span class="symbol">P</span>
          <span class="name">Фосфор</span>
      </div>
      <div id="S" class="element nonmetal" data-symbol="S">
          <span class="atomic-number">16</span>
          <span class="symbol">S</span>
          <span class="name">Сера</span>
      </div>
      <div id="Cl" class="element halogen" data-symbol="Cl">
          <span class="atomic-number">17</span>
          <span class="symbol">Cl</span>
          <span class="name">Хлор</span>
      </div>
      <div id="Ar" class="element noble-gas" data-symbol="Ar">
          <span class="atomic-number">18</span>
          <span class="symbol">Ar</span>
          <span class="name">Аргон</span>
      </div>
      <div id="K" class="element alkali-metal" data-symbol="K">
          <span class="atomic-number">19</span>
          <span class="symbol">K</span>
          <span class="name">Калий</span>
      </div>
      <div id="Ca" class="element alkaline-earth-metal" data-symbol="Ca">
          <span class="atomic-number">20</span>
          <span class="symbol">Ca</span>
          <span class="name">Кальций</span>
      </div>
      <div id="Sc" class="element transition-metal" data-symbol="Sc">
          <span class="atomic-number">21</span>
          <span class="symbol">Sc</span>
          <span class="name">Скандий</span>
      </div>
      <div id="Ti" class="element transition-metal" data-symbol="Ti">
          <span class="atomic-number">22</span>
          <span class="symbol">Ti</span>
          <span class="name">Титан</span>
      </div>
      <div id="V" class="element transition-metal" data-symbol="V">
          <span class="atomic-number">23</span>
          <span class="symbol">V</span>
          <span class="name">Ванадий</span>
      </div>
      <div id="Cr" class="element transition-metal" data-symbol="Cr">
          <span class="atomic-number">24</span>
          <span class="symbol">Cr</span>
          <span class="name">Хром</span>
      </div>
      <div id="Mn" class="element transition-metal" data-symbol="Mn">
          <span class="atomic-number">25</span>
          <span class="symbol">Mn</span>
          <span class="name">Марганец</span>
      </div>
      <div id="Fe" class="element transition-metal" data-symbol="Fe">
          <span class="atomic-number">26</span>
          <span class="symbol">Fe</span>
          <span class="name">Железо</span>
      </div>
      <div id="Co" class="element transition-metal" data-symbol="Co">
          <span class="atomic-number">27</span>
          <span class="symbol">Co</span>
          <span class="name">Кобальт</span>
      </div>
      <div id="Ni" class="element transition-metal" data-symbol="Ni">
          <span class="atomic-number">28</span>
          <span class="symbol">Ni</span>
          <span class="name">Никель</span>
      </div>
      <div id="Cu" class="element transition-metal" data-symbol="Cu">
          <span class="atomic-number">29</span>
          <span class="symbol">Cu</span>
          <span class="name">Медь</span>
      </div>
      <div id="Zn" class="element transition-metal" data-symbol="Zn">
          <span class="atomic-number">30</span>
          <span class="symbol">Zn</span>
          <span class="name">Цинк</span>
      </div>
      <div id="Ga" class="element post-transition-metal" data-symbol="Ga">
          <span class="atomic-number">31</span>
          <span class="symbol">Ga</span>
          <span class="name">Галлий</span>
      </div>
      <div id="Ge" class="element metalloid" data-symbol="Ge">
          <span class="atomic-number">32</span>
          <span class="symbol">Ge</span>
          <span class="name">Германий</span>
      </div>
      <div id="As" class="element metalloid" data-symbol="As">
          <span class="atomic-number">33</span>
          <span class="symbol">As</span>
          <span class="name">Мышьяк</span>
      </div>
      <div id="Se" class="element nonmetal" data-symbol="Se">
          <span class="atomic-number">34</span>
          <span class="symbol">Se</span>
          <span class="name">Селен</span>
      </div>
      <div id="Br" class="element halogen" data-symbol="Br">
          <span class="atomic-number">35</span>
          <span class="symbol">Br</span>
          <span class="name">Бром</span>
      </div>
      <div id="Kr" class="element noble-gas" data-symbol="Kr">
          <span class="atomic-number">36</span>
          <span class="symbol">Kr</span>
          <span class="name">Криптон</span>
      </div>
      <div id="Rb" class="element alkali-metal" data-symbol="Rb">
          <span class="atomic-number">37</span>
          <span class="symbol">Rb</span>
          <span class="name">Рубидий</span>
      </div>
      <div id="Sr" class="element alkaline-earth-metal" data-symbol="Sr">
          <span class="atomic-number">38</span>
          <span class="symbol">Sr</span>
          <span class="name">Стронций</span>
      </div>
      <div id="Y" class="element transition-metal" data-symbol="Y">
          <span class="atomic-number">39</span>
          <span class="symbol">Y</span>
          <span class="name">Иттрий</span>
      </div>
      <div id="Zr" class="element transition-metal" data-symbol="Zr">
          <span class="atomic-number">40</span>
          <span class="symbol">Zr</span>
          <span class="name">Цирконий</span>
      </div>
      <div id="Nb" class="element transition-metal" data-symbol="Nb">
          <span class="atomic-number">41</span>
          <span class="symbol">Nb</span>
          <span class="name">Ниобий</span>
      </div>
      <div id="Mo" class="element transition-metal" data-symbol="Mo">
          <span class="atomic-number">42</span>
          <span class="symbol">Mo</span>
          <span class="name">Молибден</span>
      </div>
      <div id="Tc" class="element transition-metal" data-symbol="Tc">
          <span class="atomic-number">43</span>
          <span class="symbol">Tc</span>
          <span class="name">Технеций</span>
      </div>
      <div id="Ru" class="element transition-metal" data-symbol="Ru">
          <span class="atomic-number">44</span>
          <span class="symbol">Ru</span>
          <span class="name">Руфений</span>
      </div>
      <div id="Rh" class="element transition-metal" data-symbol="Rh">
          <span class="atomic-number">45</span>
          <span class="symbol">Rh</span>
          <span class="name">Родий</span>
      </div>
      <div id="Pd" class="element transition-metal" data-symbol="Pd">
          <span class="atomic-number">46</span>
          <span class="symbol">Pd</span>
          <span class="name">Палладий</span>
      </div>
      <div id="Ag" class="element transition-metal" data-symbol="Ag">
          <span class="atomic-number">47</span>
          <span class="symbol">Ag</span>
          <span class="name">Серебро</span>
      </div>
      <div id="Cd" class="element transition-metal" data-symbol="Cd">
          <span class="atomic-number">48</span>
          <span class="symbol">Cd</span>
          <span class="name">Кадмий</span>
      </div>
      <div id="In" class="element post-transition-metal" data-symbol="In">
          <span class="atomic-number">49</span>
          <span class="symbol">In</span>
          <span class="name">Индий</span>
      </div>
      <div id="Sn" class="element post-transition-metal" data-symbol="Sn">
          <span class="atomic-number">50</span>
          <span class="symbol">Sn</span>
          <span class="name">Олово</span>
      </div>
      <div id="Sb" class="element metalloid" data-symbol="Sb">
          <span class="atomic-number">51</span>
          <span class="symbol">Sb</span>
          <span class="name">Сурьма</span>
      </div>
      <div id="Te" class="element metalloid" data-symbol="Te">
          <span class="atomic-number">52</span>
          <span class="symbol">Te</span>
          <span class="name">Теллур</span>
      </div>
      <div id="I" class="element halogen" data-symbol="I">
          <span class="atomic-number">53</span>
          <span class="symbol">I</span>
          <span class="name">Иод</span>
      </div>
      <div id="Xe" class="element noble-gas" data-symbol="Xe">
          <span class="atomic-number">54</span>
          <span class="symbol">Xe</span>
          <span class="name">Ксенон</span>
      </div>
      <div id="Cs" class="element alkali-metal" data-symbol="Cs">
          <span class="atomic-number">55</span>
          <span class="symbol">Cs</span>
          <span class="name">Цезий</span>
      </div>
      <div id="Ba" class="element alkaline-earth-metal" data-symbol="Ba">
          <span class="atomic-number">56</span>
          <span class="symbol">Ba</span>
          <span class="name">Барий</span>
      </div>
      <div id="La" class="element lanthanide" data-symbol="La">
          <span class="atomic-number">57</span>
          <span class="symbol">La</span>
          <span class="name">Лантан</span>
      </div>
             <div id="Hf" class="element transition-metal" data-symbol="Hf">
          <span class="atomic-number">72</span>
          <span class="symbol">Hf</span>
          <span class="name">Гафний</span>
      </div>
      <div id="Ta" class="element transition-metal" data-symbol="Ta">
          <span class="atomic-number">73</span>
          <span class="symbol">Ta</span>
          <span class="name">Тантал</span>
      </div>
      <div id="W" class="element transition-metal" data-symbol="W">
          <span class="atomic-number">74</span>
          <span class="symbol">W</span>
          <span class="name">Вольфрам</span>
      </div>
      <div id="Re" class="element transition-metal" data-symbol="Re">
          <span class="atomic-number">75</span>
          <span class="symbol">Re</span>
          <span class="name">Рений</span>
      </div>
      <div id="Os" class="element transition-metal" data-symbol="Os">
          <span class="atomic-number">76</span>
          <span class="symbol">Os</span>
          <span class="name">Осмий</span>
      </div>
      <div id="Ir" class="element transition-metal" data-symbol="Ir">
          <span class="atomic-number">77</span>
          <span class="symbol">Ir</span>
          <span class="name">Иридий</span>
      </div>
      <div id="Pt" class="element transition-metal" data-symbol="Pt">
          <span class="atomic-number">78</span>
          <span class="symbol">Pt</span>
          <span class="name">Платина</span>
      </div>
      <div id="Au" class="element transition-metal" data-symbol="Au">
          <span class="atomic-number">79</span>
          <span class="symbol">Au</span>
          <span class="name">Золото</span>
      </div>
      <div id="Hg" class="element transition-metal" data-symbol="Hg">
          <span class="atomic-number">80</span>
          <span class="symbol">Hg</span>
          <span class="name">Ртуть</span>
      </div>
      <div id="Tl" class="element post-transition-metal" data-symbol="Tl">
          <span class="atomic-number">81</span>
          <span class="symbol">Tl</span>
          <span class="name">Таллий</span>
      </div>
      <div id="Pb" class="element post-transition-metal" data-symbol="Pb">
          <span class="atomic-number">82</span>
          <span class="symbol">Pb</span>
          <span class="name">Свинец</span>
      </div>
      <div id="Bi" class="element post-transition-metal" data-symbol="Bi">
          <span class="atomic-number">83</span>
          <span class="symbol">Bi</span>
          <span class="name">Висмут</span>
      </div>
      <div id="Po" class="element post-transition-metal" data-symbol="Po">
          <span class="atomic-number">84</span>
          <span class="symbol">Po</span>
          <span class="name">Полоний</span>
      </div>
      <div id="At" class="element halogen" data-symbol="At">
          <span class="atomic-number">85</span>
          <span class="symbol">At</span>
          <span class="name">Астат</span>
      </div>
      <div id="Rn" class="element noble-gas" data-symbol="Rn">
          <span class="atomic-number">86</span>
          <span class="symbol">Rn</span>
          <span class="name">Радон</span>
      </div>
      <div id="Fr" class="element alkali-metal" data-symbol="Fr">
          <span class="atomic-number">87</span>
          <span class="symbol">Fr</span>
          <span class="name">Франций</span>
      </div>
      <div id="Ra" class="element alkaline-earth-metal" data-symbol="Ra">
          <span class="atomic-number">88</span>
          <span class="symbol">Ra</span>
          <span class="name">Радий</span>
      </div>
      <div id="Ac" class="element actinide" data-symbol="Ac">
          <span class="atomic-number">89</span>
          <span class="symbol">Ac</span>
          <span class="name">Актиний</span>
      </div>
      <div id="Rf" class="element transition-metal" data-symbol="Rf">
          <span class="atomic-number">104</span>
          <span class="symbol">Rf</span>
          <span class="name">Резерфордий</span>
      </div>
      <div id="Db" class="element transition-metal" data-symbol="Db">
          <span class="atomic-number">105</span>
          <span class="symbol">Db</span>
          <span class="name">Дубний</span>
      </div>
      <div id="Sg" class="element transition-metal" data-symbol="Sg">
          <span class="atomic-number">106</span>
          <span class="symbol">Sg</span>
          <span class="name">Сиборгий</span>
      </div>
      <div id="Bh" class="element transition-metal" data-symbol="Bh">
          <span class="atomic-number">107</span>
          <span class="symbol">Bh</span>
          <span class="name">Борий</span>
      </div>
      <div id="Hs" class="element transition-metal" data-symbol="Hs">
          <span class="atomic-number">108</span>
          <span class="symbol">Hs</span>
          <span class="name">Хассий</span>
      </div>
      <div id="Mt" class="element transition-metal" data-symbol="Mt">
          <span class="atomic-number">109</span>
          <span class="symbol">Mt</span>
          <span class="name">Мейтнерий</span>
      </div>
      <div id="Ds" class="element transition-metal" data-symbol="Ds">
          <span class="atomic-number">110</span>
          <span class="symbol">Ds</span>
          <span class="name">Дармштадтий</span>
      </div>
      <div id="Rg" class="element transition-metal" data-symbol="Rg">
          <span class="atomic-number">111</span>
          <span class="symbol">Rg</span>
          <span class="name">Рентгений</span>
      </div>
      <div id="Cn" class="element transition-metal" data-symbol="Cn">
          <span class="atomic-number">112</span>
          <span class="symbol">Cn</span>
          <span class="name">Коперниций</span>
      </div>
      <div id="Nh" class="element post-transition-metal" data-symbol="Nh">
          <span class="atomic-number">113</span>
          <span class="symbol">Nh</span>
          <span class="name">Нихоний</span>
      </div>
      <div id="Fl" class="element post-transition-metal" data-symbol="Fl">
          <span class="atomic-number">114</span>
          <span class="symbol">Fl</span>
          <span class="name">Флеровий</span>
      </div>
      <div id="Mc" class="element post-transition-metal" data-symbol="Mc">
          <span class="atomic-number">115</span>
          <span class="symbol">Mc</span>
          <span class="name">Московий</span>
      </div>
      <div id="Lv" class="element post-transition-metal" data-symbol="Lv">
          <span class="atomic-number">116</span>
          <span class="symbol">Lv</span>
          <span class="name">Ливерморий</span>
      </div>
      <div id="Ts" class="element halogen" data-symbol="Ts">
          <span class="atomic-number">117</span>
          <span class="symbol">Ts</span>
          <span class="name">Теннессин</span>
      </div>
      <div id="Og" class="element noble-gas" data-symbol="Og">
          <span class="atomic-number">118</span>
          <span class="symbol">Og</span>
          <span class="name">Оганесон</span>
      </div>
  </div>

  <!-- Лантаноиды -->
  <div class="lanthanides">
      <div id="Ce" class="element lanthanide" data-symbol="Ce">
          <span class="atomic-number">58</span>
          <span class="symbol">Ce</span>
          <span class="name">Церий</span>
      </div>
      <div id="Pr" class="element lanthanide" data-symbol="Pr">
          <span class="atomic-number">59</span>
          <span class="symbol">Pr</span>
          <span class="name">Празеодим</span>
      </div>
      <div id="Nd" class="element lanthanide" data-symbol="Nd">
          <span class="atomic-number">60</span>
          <span class="symbol">Nd</span>
          <span class="name">Неодим</span>
      </div>
      <div id="Pm" class="element lanthanide" data-symbol="Pm">
          <span class="atomic-number">61</span>
          <span class="symbol">Pm</span>
          <span class="name">Прометий</span>
      </div>
      <div id="Sm" class="element lanthanide" data-symbol="Sm">
          <span class="atomic-number">62</span>
          <span class="symbol">Sm</span>
          <span class="name">Самарий</span>
      </div>
      <div id="Eu" class="element lanthanide" data-symbol="Eu">
          <span class="atomic-number">63</span>
          <span class="symbol">Eu</span>
          <span class="name">Европий</span>
      </div>
      <div id="Gd" class="element lanthanide" data-symbol="Gd">
          <span class="atomic-number">64</span>
          <span class="symbol">Gd</span>
          <span class="name">Гадолиний</span>
      </div>
      <div id="Tb" class="element lanthanide" data-symbol="Tb">
          <span class="atomic-number">65</span>
          <span class="symbol">Tb</span>
          <span class="name">Тербий</span>
      </div>
      <div id="Dy" class="element lanthanide" data-symbol="Dy">
          <span class="atomic-number">66</span>
          <span class="symbol">Dy</span>
          <span class="name">Диспрозий</span>
      </div>
      <div id="Ho" class="element lanthanide" data-symbol="Ho">
          <span class="atomic-number">67</span>
          <span class="symbol">Ho</span>
          <span class="name">Гольмий</span>
      </div>
      <div id="Er" class="element lanthanide" data-symbol="Er">
          <span class="atomic-number">68</span>
          <span class="symbol">Er</span>
          <span class="name">Эрбий</span>
      </div>
      <div id="Tm" class="element lanthanide" data-symbol="Tm">
          <span class="atomic-number">69</span>
          <span class="symbol">Tm</span>
          <span class="name">Тулий</span>
      </div>
      <div id="Yb" class="element lanthanide" data-symbol="Yb">
          <span class="atomic-number">70</span>
          <span class="symbol">Yb</span>
          <span class="name">Иттербий</span>
      </div>
      <div id="Lu" class="element lanthanide" data-symbol="Lu">
          <span class="atomic-number">71</span>
          <span class="symbol">Lu</span>
          <span class="name">Лютеций</span>
      </div>
  </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="element-title"></h2>

            <div id="allotrope-tabs-placeholder"></div>

            <div id="element-info">
                </div>
        </div>
    </div>

    <script>
    function toggleSection(groupName) {
        const section = document.querySelector(`.info-group.${groupName}`);
        const content = document.querySelector(`.info-group.${groupName} .group-content`);
        const title = document.querySelector(`.info-group.${groupName} .group-title`);

        if (!content || !section || !title) return;

        if (content.classList.contains('collapsed')) {
            content.classList.remove('collapsed');
            section.classList.remove('collapsed');
            title.innerHTML = title.innerHTML.replace('▼', '▶ ');
        }
        else {
            content.classList.add('collapsed');
            section.classList.add('collapsed');
            title.innerHTML = title.innerHTML.replace('▶ ', '▼ ');
        }
    }

    const elementsData = {
        "H": {
            atomicNumber: "1",
            name: "Водород",
            atomicMass: "1.008",
            period: "1",
            group: "1",
            block: "s",
            category: "Неметалл",
            electronConfig: "1s<sup>1</sup>",
            electronegativity: "2.20",
            density: "0.0000899 г/см³",
            meltingPoint: "-259.16 °C",
            boilingPoint: "-252.87 °C",
            state: "Газ",
            color: "Бесцветный",
            discoveryYear: "1766",
            discoverer: "Генри Кавендиш",
            nameOrigin: "От греч. \"рождающий воду\"",
            applications: "Вода (H<sub>2</sub>O), аммиак (NH<sub>3</sub>), органическая химия, топливо",
            facts: "Самый распространенный элемент во Вселенной"
        },
        "He": {
            atomicNumber: "2",
            name: "Гелий",
            atomicMass: "4.0026",
            period: "1",
            group: "18",
            block: "s",
            category: "Благородный газ",
            electronConfig: "1s<sup>2</sup>",
            electronegativity: "",
            density: "0.0001785 г/см³",
            meltingPoint: "-272.2 °C",
            boilingPoint: "-268.93 °C",
            state: "Газ",
            color: "Бесцветный",
            discoveryYear: "1895",
            discoverer: "Уильям Рамзай",
            nameOrigin: "От греч. \"солнце\"",
            applications: "Воздушные шары, криогеника, МРТ",
            facts: "Второй самый распространенный элемент во Вселенной"
        },
        "Li": {
            atomicNumber: "3",
            name: "Литий",
            atomicMass: "6.941",
            period: "2",
            group: "1",
            block: "s",
            category: "Щелочной металл",
            electronConfig: "[He] 2s<sup>1</sup>",
            electronegativity: "0.98",
            density: "0.534 г/см³",
            meltingPoint: "180.5 °C",
            boilingPoint: "1342 °C",
            state: "Твердое",
            color: "Серебристый",
            discoveryYear: "1817",
            discoverer: "Йохан Арфведсон",
            nameOrigin: "От греч. \"камень\"",
            applications: "Батареи, стекло, лекарства",
            facts: "Самый легкий металл"
        },
        "Be": {
            atomicNumber: "4",
            name: "Бериллий",
            atomicMass: "9.0122",
            period: "2",
            group: "2",
            block: "s",
            category: "Щелочноземельный металл",
            electronConfig: "[He] 2s<sup>2</sup>",
            electronegativity: "1.57",
            density: "1.85 г/см³",
            meltingPoint: "1287 °C",
            boilingPoint: "2471 °C",
            state: "Твердое",
            color: "Серый",
            discoveryYear: "1797",
            discoverer: "Луи Воклен",
            nameOrigin: "От минерала берилл",
            applications: "Сплавы, ядерные реакторы",
            facts: "Токсичен, используется в аэрокосмике"
        },
        "Og": {
            atomicNumber: "118",
            name: "Оганесон",
            atomicMass: "[294]",
            period: "7",
            group: "18",
            block: "p",
            category: "Благородный газ",
            electronConfig: "[Rn] 5f<sup>14</sup> 6d<sup>10</sup> 7s<sup>2</sup> 7p<sup>6</sup>",
            state: "Предполагаемо газ",
            discoveryYear: "2002",
            discoverer: "Юрий Оганесьян",
            nameOrigin: "В честь Юрия Оганесьяна",
            applications: "Научные исследования",
            facts: "Самый тяжелый элемент"
        },
        "C": {
            atomicNumber: "6",
            name: "Углерод",
            atomicMass: "12.011",
            period: "2",
            group: "14",
            block: "p",
            category: "Неметалл",
            electronConfig: "[He] 2s² 2p²",
            electronegativity: "2.55",
            discoveryYear: "Древность",
            discoverer: "Известен с древности",
            nameOrigin: "От лат. carbo — уголь",
            applications: "Сталь, алмазы, графен, углеродное волокно",
            facts: "Основа всей органической жизни",
            // Дефолтные значения (например, для графита, так как это самая стаб. форма)
            density: "2.267 г/см³",
            meltingPoint: "Сублимирует ~3825 °C",
            boilingPoint: "Сублимирует ~3825 °C",
            state: "Твёрдое",
            color: "Чёрный",

            allotropes: {
                graphite: {
                    name: "Графит",
                    density: "2.267 г/см³",
                    meltingPoint: "Сублимирует ~3825 °C",
                    boilingPoint: "Сублимирует ~3825 °C",
                    state: "Твёрдое",
                    color: "Чёрный металлический блеск",
                    structure: "Слоистая гексагональная",
                    hardness: "1–2 (Мягкий)",
                    conductivity: "Проводник (в плоскости)"
                },
                diamond: {
                    name: "Алмаз",
                    density: "3.515 г/см³",
                    meltingPoint: "~3550 °C (при выс. давлении)",
                    boilingPoint: "~4827 °C",
                    state: "Твёрдое",
                    color: "Бесцветный / Прозрачный",
                    structure: "Кубическая (тетраэдрическая)",
                    hardness: "10 (Самый твердый)",
                    conductivity: "Изолятор, теплопроводник"
                },
                fullerene: {
                    name: "Фуллерен C₆₀",
                    density: "1.65 г/см³",
                    meltingPoint: "Сублимирует ~550 °C",
                    boilingPoint: "-",
                    state: "Твёрдое",
                    color: "Чёрный (порошок)",
                    structure: "Молекулярная (футболообразная)",
                    hardness: "Мягкий",
                    conductivity: "Полупроводник"
                }
            }
        },
        "S": {
            atomicNumber: "16",
            name: "Сера",
            atomicMass: "32.06",
            period: "3",
            group: "16",
            category: "Неметалл",
            state: "Твердое",
            color: "Желтый",
            allotropes: {
                rhombic: {
                    name: "Ромбическая (α-S)",
                    density: "2.07 г/см³",
                    meltingPoint: "112.8 °C",
                    color: "Лимонно-желтый",
                    structure: "Кристаллы S₈ (корона)"
                },
                monoclinic: {
                    name: "Моноклинная (β-S)",
                    density: "1.96 г/см³",
                    meltingPoint: "119.0 °C",
                    color: "Темно-желтый (иглы)",
                    structure: "Игольчатые кристаллы"
                },
                plastic: {
                    name: "Пластическая",
                    density: "1.92 г/см³",
                    state: "Аморфное (резиноподобное)",
                    color: "Коричневый",
                    structure: "Длинные полимерные цепи",
                    facts: "Нестабильна, со временем превращается в ромбическую"
                }
            }
        }
    };

    const modal = document.getElementById("modal");
    const closeBtn = document.getElementsByClassName("close")[0];
    const elementInfo = document.getElementById("element-info");
    const elementTitle = document.getElementById("element-title");
    const tabsPlaceholder = document.getElementById("allotrope-tabs-placeholder");

    // Обновленная функция рендеринга с СОХРАНЕНИЕМ СОСТОЯНИЯ
        function renderModalContent(data) {
            // 1. ЗАПОМИНАЕМ ТЕКУЩЕЕ СОСТОЯНИЕ (какие секции свернуты)
            const currentStates = {};
            document.querySelectorAll('.info-group').forEach(group => {
                // Получаем второй класс (basic, physical и т.д.)
                const type = group.classList[1];
                // Если класс есть и он содержит collapsed, запоминаем true
                if (type) {
                    currentStates[type] = group.classList.contains('collapsed');
                }
            });

            // Формируем HTML для физических свойств
            let physicalContentHTML = `
                <p><strong>Плотность:</strong> ${data.density || '—'}</p>
                <p><strong>Температура плавления:</strong> ${data.meltingPoint || '—'}</p>
                <p><strong>Температура кипения:</strong> ${data.boilingPoint || '—'}</p>
                <p><strong>Состояние (20°C):</strong> ${data.state || '—'}</p>
                <p><strong>Цвет:</strong> ${data.color || '—'}</p>
            `;

            if (data.structure) physicalContentHTML += `<p class="allo-specific"><strong>Структура:</strong> ${data.structure}</p>`;
            if (data.hardness) physicalContentHTML += `<p class="allo-specific"><strong>Твёрдость:</strong> ${data.hardness}</p>`;
            if (data.conductivity) physicalContentHTML += `<p class="allo-specific"><strong>Проводимость:</strong> ${data.conductivity}</p>`;

            // Рендерим новый HTML
            elementInfo.innerHTML = `
                <div class="groups-container">
                    <section class="info-group basic">
                        <h3 class="group-title" onclick="toggleSection('basic')">▶ Базовая информация</h3>
                        <div class="group-content">
                            <p><strong>Номер:</strong> ${data.atomicNumber || '—'}</p>
                            <p><strong>Масса:</strong> ${data.atomicMass || '—'}</p>
                            <p><strong>Период:</strong> ${data.period || '—'}</p>
                            <p><strong>Группа:</strong> ${data.group || '—'}</p>
                            <p><strong>Блок:</strong> ${data.block || '—'}</p>
                            <p><strong>Категория:</strong> ${data.category || '—'}</p>
                            <p><strong>Электронная конфигурация:</strong> ${data.electronConfig || '—'}</p>
                            <p><strong>Электроотрицательность:</strong> ${data.electronegativity || '—'}</p>
                        </div>
                    </section>
                    <section class="info-group physical">
                        <h3 class="group-title" onclick="toggleSection('physical')">▶ Физические свойства</h3>
                        <div class="group-content">
                            ${physicalContentHTML}
                        </div>
                    </section>
                    <section class="info-group history">
                        <h3 class="group-title" onclick="toggleSection('history')">▶ История и практика</h3>
                        <div class="group-content">
                            <p><strong>Год открытия:</strong> ${data.discoveryYear || '—'}</p>
                            <p><strong>Кто открыл:</strong> ${data.discoverer || '—'}</p>
                            <p><strong>Происхождение названия:</strong> ${data.nameOrigin || '—'}</p>
                            <p><strong>Области применения:</strong> ${data.applications || '—'}</p>
                        </div>
                    </section>
                    <section class="info-group facts">
                        <h3 class="group-title" onclick="toggleSection('facts')">▶ Интересные факты</h3>
                        <div class="group-content">
                            <p>${data.facts || '—'}</p>
                        </div>
                    </section>
                </div>
            `;

            // 2. ВОССТАНАВЛИВАЕМ СОСТОЯНИЕ
            // Пробегаемся по сохраненным данным и сворачиваем то, что было свернуто
            Object.keys(currentStates).forEach(type => {
                if (currentStates[type] === true) {
                    // Если было свернуто — сворачиваем обратно
                    const section = document.querySelector(`.info-group.${type}`);
                    const content = document.querySelector(`.info-group.${type} .group-content`);
                    const title = document.querySelector(`.info-group.${type} .group-title`);

                    if (section && content && title) {
                        section.classList.add('collapsed');
                        content.classList.add('collapsed');
                        title.innerHTML = title.innerHTML.replace('▶ ', '▼ ');
                    }
                }
            });
        }

    document.querySelectorAll('.element').forEach(el => {
        el.addEventListener('click', () => {
            const symbol = el.dataset.symbol;
            const mainData = elementsData[symbol] || {};

            // Заголовок модального окна всегда статичен
            elementTitle.innerText = `${mainData.name || symbol} (${symbol})`;

            // Очищаем и скрываем табы
            tabsPlaceholder.innerHTML = '';

            // Проверяем, есть ли аллотропы
            if (mainData.allotropes && Object.keys(mainData.allotropes).length > 1) {
                // Если есть, создаем кнопки
                const allotropeKeys = Object.keys(mainData.allotropes);

                allotropeKeys.forEach((key, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'allotrope-tab';
                    btn.innerText = mainData.allotropes[key].name;

                    btn.onclick = () => {
                        // Убираем активный класс у всех кнопок
                        document.querySelectorAll('.allotrope-tab').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');

                        // МЕРДЖ (СЛИЯНИЕ) ДАННЫХ:
                        // Берем основные данные и накладываем сверху данные конкретного аллотропа
                        const mergedData = { ...mainData, ...mainData.allotropes[key] };
                        renderModalContent(mergedData);
                    };

                    tabsPlaceholder.appendChild(btn);

                    // Активируем первую кнопку по умолчанию при открытии
                    if (index === 0) {
                        btn.click();
                    }
                });
            } else {
                // Если аллотропов нет, просто рендерим основные данные
                renderModalContent(mainData);
            }

            modal.style.display = "block";
        });
    });

    closeBtn.onclick = function() {
        modal.style.display = "none";
    };

    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    };
    </script>
</body>
</html>
